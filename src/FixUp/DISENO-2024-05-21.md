<DESIGN>
    <METADATA>
        # Diseño: TSK-101 - Botón de exportar a PDF

        **ID:** TSK-101
        **Título:** Botón de exportar a PDF
        **Estado:** En Diseño
        **Responsable:** ui.designer@example.com, backend.architect@example.com
        **Fecha:** 2024-05-21
        **Vinculado a:** `PLAN-2024-05-20.md`
    </METADATA>

    <SOLUTION>
        ## Solución Técnica Propuesta
        <TECHNICAL_PROPOSAL>
        Se añadirá un nuevo botón en el componente de React que renderiza la cabecera de la página de reportes. Este botón llamará a un nuevo endpoint en el backend (`/api/reports/export/pdf`). El backend utilizará la librería `Puppeteer` en un servicio serverless (AWS Lambda) para generar un PDF a partir de la URL del reporte actual, aplicando una hoja de estilos específica para impresión. El PDF generado se devolverá como un stream de datos para su descarga directa en el cliente.
        </TECHNICAL_PROPOSAL>

        ## Artefactos de Diseño
        <DESIGN_ARTIFACTS>
        - **Diseño UI/UX (Figma):** Link al diseño del botón y flujo en Figma
        - **Diagrama de Arquitectura:** Link al diagrama en Miro/Lucidchart
        - **Especificación de API (Swagger/OpenAPI):** Link a la especificación del endpoint
        </DESIGN_ARTIFACTS>

        ## Análisis de Impacto
        <IMPACT_ANALYSIS>
        - **Frontend:** Requiere modificación en el componente `ReportHeader.js`.
        - **Backend:** Requiere la creación de un nuevo endpoint y una nueva función Lambda. No afecta a endpoints existentes.
        - **Infraestructura:** Se debe añadir la dependencia de `Puppeteer` y configurar los permisos de la nueva función Lambda.
        </IMPACT_ANALYSIS>
    </SOLUTION>
</DESIGN>